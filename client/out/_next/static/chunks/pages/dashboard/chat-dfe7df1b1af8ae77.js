(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5706],{80533:function(e,t,r){"use strict";var n=r(67294),o=(r(45697),r(30067)),a=r(73633),i=r(57094),l=r(85893);function c(e){return e.substring(2).toLowerCase()}t.Z=function(e){const{children:t,disableReactTree:r=!1,mouseEvent:s="onClick",onClickAway:u,touchEvent:d="onTouchEnd"}=e,f=n.useRef(!1),p=n.useRef(null),h=n.useRef(!1),m=n.useRef(!1);n.useEffect((()=>(setTimeout((()=>{h.current=!0}),0),()=>{h.current=!1})),[]);const v=(0,o.Z)(t.ref,p),x=(0,a.Z)((e=>{const t=m.current;m.current=!1;const n=(0,i.Z)(p.current);if(!h.current||!p.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(f.current)return void(f.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(p.current)>-1:!n.documentElement.contains(e.target)||p.current.contains(e.target),o||!r&&t||u(e)})),b=e=>r=>{m.current=!0;const n=t.props[e];n&&n(r)},y={ref:v};return!1!==d&&(y[d]=b(d)),n.useEffect((()=>{if(!1!==d){const e=c(d),t=(0,i.Z)(p.current),r=()=>{f.current=!0};return t.addEventListener(e,x),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,x),t.removeEventListener("touchmove",r)}}}),[x,d]),!1!==s&&(y[s]=b(s)),n.useEffect((()=>{if(!1!==s){const e=c(s),t=(0,i.Z)(p.current);return t.addEventListener(e,x),()=>{t.removeEventListener(e,x)}}}),[x,s]),(0,l.jsx)(n.Fragment,{children:n.cloneElement(t,y)})}},51107:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(63366),o=r(87462),a=r(67294),i=(r(45697),r(59864),r(86010)),l=r(77463),c=r(11496),s=r(33616),u=r(54801),d=r(87952),f=r(21420);function p(e){return(0,f.Z)("MuiAvatarGroup",e)}var h=(0,r(11271).Z)("MuiAvatarGroup",["root","avatar"]),m=r(85893);const v=["children","className","max","spacing","variant"],x={small:-16,medium:null},b=(0,c.ZP)("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(e,t)=>(0,o.Z)({[`& .${h.avatar}`]:t.avatar},t.root)})((({theme:e})=>({[`& .${u.Z.root}`]:{border:`2px solid ${e.palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}))),y=(0,c.ZP)(d.Z,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})((({theme:e})=>({border:`2px solid ${e.palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})));var g=a.forwardRef((function(e,t){const r=(0,s.Z)({props:e,name:"MuiAvatarGroup"}),{children:c,className:u,max:d=5,spacing:f="medium",variant:h="circular"}=r,g=(0,n.Z)(r,v),j=d<2?2:d,w=(0,o.Z)({},r,{max:d,spacing:f,variant:h}),Z=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"]},p,t)})(w),O=a.Children.toArray(c).filter((e=>a.isValidElement(e))),S=O.length>j?O.length-j+1:0,k=f&&void 0!==x[f]?x[f]:-f;return(0,m.jsxs)(b,(0,o.Z)({ownerState:w,className:(0,i.Z)(Z.root,u),ref:t},g,{children:[S?(0,m.jsxs)(y,{ownerState:w,className:Z.avatar,style:{marginLeft:k},variant:h,children:["+",S]}):null,O.slice(0,O.length-S).reverse().map((e=>a.cloneElement(e,{className:(0,i.Z)(e.props.className,Z.avatar),style:(0,o.Z)({marginLeft:k},e.props.style),variant:e.props.variant||h})))]}))}))},83965:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(63366),o=r(87462),a=r(67294),i=(r(45697),r(86010)),l=r(77463),c=r(33616),s=r(11496),u=r(21420);function d(e){return(0,u.Z)("MuiCardMedia",e)}(0,r(11271).Z)("MuiCardMedia",["root","media","img"]);var f=r(85893);const p=["children","className","component","image","src","style"],h=(0,s.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:o}=r;return[t.root,n&&t.media,o&&t.img]}})((({ownerState:e})=>(0,o.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"}))),m=["video","audio","picture","iframe","img"],v=["picture","img"];var x=a.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiCardMedia"}),{children:a,className:s,component:u="div",image:x,src:b,style:y}=r,g=(0,n.Z)(r,p),j=-1!==m.indexOf(u),w=!j&&x?(0,o.Z)({backgroundImage:`url("${x}")`},y):y,Z=(0,o.Z)({},r,{component:u,isMediaComponent:j,isImageComponent:-1!==v.indexOf(u)}),O=(e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e,o={root:["root",r&&"media",n&&"img"]};return(0,l.Z)(o,d,t)})(Z);return(0,f.jsx)(h,(0,o.Z)({className:(0,i.Z)(O.root,s),as:u,role:!j&&x?"img":void 0,ref:t,style:w,ownerState:Z,src:j?x||b:void 0},g,{children:a}))}))},66242:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(87462),o=r(63366),a=r(67294),i=(r(45697),r(86010)),l=r(77463),c=r(11496),s=r(33616),u=r(55113),d=r(21420);function f(e){return(0,d.Z)("MuiCard",e)}(0,r(11271).Z)("MuiCard",["root"]);var p=r(85893);const h=["className","raised"],m=(0,c.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"})));var v=a.forwardRef((function(e,t){const r=(0,s.Z)({props:e,name:"MuiCard"}),{className:a,raised:c=!1}=r,u=(0,o.Z)(r,h),d=(0,n.Z)({},r,{raised:c}),v=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"]},f,t)})(d);return(0,p.jsx)(m,(0,n.Z)({className:(0,i.Z)(v.root,a),elevation:c?8:void 0,ref:t,ownerState:d},u))}))},87918:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(63366),o=r(87462),a=r(67294),i=(r(45697),r(86010)),l=r(77463),c=r(41796),s=r(82066),u=r(85893),d=(0,s.Z)((0,u.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),f=r(51705),p=r(98216),h=r(49990),m=r(33616),v=r(11496),x=r(21420);function b(e){return(0,x.Z)("MuiChip",e)}var y=(0,r(11271).Z)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]);const g=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],j=(0,v.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,clickable:o,onDelete:a,size:i,variant:l}=r;return[{[`& .${y.avatar}`]:t.avatar},{[`& .${y.avatar}`]:t[`avatar${(0,p.Z)(i)}`]},{[`& .${y.avatar}`]:t[`avatarColor${(0,p.Z)(n)}`]},{[`& .${y.icon}`]:t.icon},{[`& .${y.icon}`]:t[`icon${(0,p.Z)(i)}`]},{[`& .${y.icon}`]:t[`iconColor${(0,p.Z)(n)}`]},{[`& .${y.deleteIcon}`]:t.deleteIcon},{[`& .${y.deleteIcon}`]:t[`deleteIcon${(0,p.Z)(i)}`]},{[`& .${y.deleteIcon}`]:t[`deleteIconColor${(0,p.Z)(n)}`]},{[`& .${y.deleteIcon}`]:t[`deleteIconOutlinedColor${(0,p.Z)(n)}`]},t.root,t[`size${(0,p.Z)(i)}`],t[`color${(0,p.Z)(n)}`],o&&t.clickable,o&&"default"!==n&&t[`clickableColor${(0,p.Z)(n)})`],a&&t.deletable,a&&"default"!==n&&t[`deletableColor${(0,p.Z)(n)}`],t[l],"outlined"===l&&t[`outlined${(0,p.Z)(n)}`]]}})((({theme:e,ownerState:t})=>{const r=(0,c.Fq)(e.palette.text.primary,.26);return(0,o.Z)({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.text.primary,backgroundColor:e.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${y.disabled}`]:{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"},[`& .${y.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},[`& .${y.avatarColorPrimary}`]:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},[`& .${y.avatarColorSecondary}`]:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},[`& .${y.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${y.icon}`]:(0,o.Z)({color:"light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},"small"===t.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==t.color&&{color:"inherit"}),[`& .${y.deleteIcon}`]:(0,o.Z)({WebkitTapHighlightColor:"transparent",color:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,c.Fq)(r,.4)}},"small"===t.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==t.color&&{color:(0,c.Fq)(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:e.palette[t.color].contrastText}})},"small"===t.size&&{height:24},"default"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.onDelete&&{[`&.${y.focusVisible}`]:{backgroundColor:(0,c.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&"default"!==t.color&&{[`&.${y.focusVisible}`]:{backgroundColor:e.palette[t.color].dark}})}),(({theme:e,ownerState:t})=>(0,o.Z)({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:(0,c.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${y.focusVisible}`]:{backgroundColor:(0,c.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:e.shadows[1]}},t.clickable&&"default"!==t.color&&{[`&:hover, &.${y.focusVisible}`]:{backgroundColor:e.palette[t.color].dark}})),(({theme:e,ownerState:t})=>(0,o.Z)({},"outlined"===t.variant&&{backgroundColor:"transparent",border:`1px solid ${"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${y.clickable}:hover`]:{backgroundColor:e.palette.action.hover},[`&.${y.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`& .${y.avatar}`]:{marginLeft:4},[`& .${y.avatarSmall}`]:{marginLeft:2},[`& .${y.icon}`]:{marginLeft:4},[`& .${y.iconSmall}`]:{marginLeft:2},[`& .${y.deleteIcon}`]:{marginRight:5},[`& .${y.deleteIconSmall}`]:{marginRight:3}},"outlined"===t.variant&&"default"!==t.color&&{color:e.palette[t.color].main,border:`1px solid ${(0,c.Fq)(e.palette[t.color].main,.7)}`,[`&.${y.clickable}:hover`]:{backgroundColor:(0,c.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${y.focusVisible}`]:{backgroundColor:(0,c.Fq)(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${y.deleteIcon}`]:{color:(0,c.Fq)(e.palette[t.color].main,.7),"&:hover, &:active":{color:e.palette[t.color].main}}}))),w=(0,v.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${(0,p.Z)(n)}`]]}})((({ownerState:e})=>(0,o.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===e.size&&{paddingLeft:8,paddingRight:8})));function Z(e){return"Backspace"===e.key||"Delete"===e.key}var O=a.forwardRef((function(e,t){const r=(0,m.Z)({props:e,name:"MuiChip"}),{avatar:c,className:s,clickable:v,color:x="default",component:y,deleteIcon:O,disabled:S=!1,icon:k,label:C,onClick:P,onDelete:R,onKeyDown:I,onKeyUp:$,size:z="medium",variant:A="filled"}=r,M=(0,n.Z)(r,g),E=a.useRef(null),T=(0,f.Z)(E,t),D=e=>{e.stopPropagation(),R&&R(e)},L=!(!1===v||!P)||v,N="small"===z,F=L||R?h.Z:y||"div",B=(0,o.Z)({},r,{component:F,disabled:S,size:z,color:x,onDelete:!!R,clickable:L,variant:A}),V=(e=>{const{classes:t,disabled:r,size:n,color:o,onDelete:a,clickable:i,variant:c}=e,s={root:["root",c,r&&"disabled",`size${(0,p.Z)(n)}`,`color${(0,p.Z)(o)}`,i&&"clickable",i&&`clickableColor${(0,p.Z)(o)}`,a&&"deletable",a&&`deletableColor${(0,p.Z)(o)}`,`${c}${(0,p.Z)(o)}`],label:["label",`label${(0,p.Z)(n)}`],avatar:["avatar",`avatar${(0,p.Z)(n)}`,`avatarColor${(0,p.Z)(o)}`],icon:["icon",`icon${(0,p.Z)(n)}`,`iconColor${(0,p.Z)(o)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,p.Z)(n)}`,`deleteIconColor${(0,p.Z)(o)}`,`deleteIconOutlinedColor${(0,p.Z)(o)}`]};return(0,l.Z)(s,b,t)})(B),H=F===h.Z?(0,o.Z)({component:y||"div",focusVisibleClassName:V.focusVisible},R&&{disableRipple:!0}):{};let W=null;if(R){const e=(0,i.Z)("default"!==x&&("outlined"===A?V[`deleteIconOutlinedColor${(0,p.Z)(x)}`]:V[`deleteIconColor${(0,p.Z)(x)}`]),N&&V.deleteIconSmall);W=O&&a.isValidElement(O)?a.cloneElement(O,{className:(0,i.Z)(O.props.className,V.deleteIcon,e),onClick:D}):(0,u.jsx)(d,{className:(0,i.Z)(V.deleteIcon,e),onClick:D})}let q=null;c&&a.isValidElement(c)&&(q=a.cloneElement(c,{className:(0,i.Z)(V.avatar,c.props.className)}));let G=null;return k&&a.isValidElement(k)&&(G=a.cloneElement(k,{className:(0,i.Z)(V.icon,k.props.className)})),(0,u.jsxs)(j,(0,o.Z)({as:F,className:(0,i.Z)(V.root,s),disabled:!(!L||!S)||void 0,onClick:P,onKeyDown:e=>{e.currentTarget===e.target&&Z(e)&&e.preventDefault(),I&&I(e)},onKeyUp:e=>{e.currentTarget===e.target&&(R&&Z(e)?R(e):"Escape"===e.key&&E.current&&E.current.blur()),$&&$(e)},ref:T,ownerState:B},H,M,{children:[q||G,(0,u.jsx)(w,{className:(0,i.Z)(V.label),ownerState:B,children:C}),W]}))}))},34473:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/chat",function(){return r(21714)}])},13988:function(e,t,r){"use strict";r.d(t,{X:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,n.jsx)("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),"Archive")},88608:function(e,t,r){"use strict";r.d(t,{B:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})}),"DotsHorizontal")},61030:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M3 7a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 13a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),"MenuAlt4")},99335:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),"PaperAirplane")},49436:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),"PaperClip")},73907:function(e,t,r){"use strict";r.d(t,{D:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Photograph")},21392:function(e,t,r){"use strict";r.d(t,{v:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus")},13127:function(e,t,r){"use strict";r.d(t,{r:function(){return o}});var n=r(85893),o=(0,r(82066).Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Trash")},21714:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return st}});var n=r(85893),o=r(67294),a=r(9008),i=r(11163),l=r(98396),c=r(87357),s=r(93946),u=r(87952),d=r(15861),f=r(11496),p=r(98875),h=r(64527),m=r(28520),v=r.n(m),x=r(67720),b=r(95631),y=r(66605),g=r(45697),j=r.n(g),w=r(50135),Z=r(87109),O=r(87918),S=r(80533),k=r(78481),C=r(55113),P=r(78462),R=r(9875),I=r(18987),$=r(59334),z=r(50506),A=r(97169),M=r(34547);function E(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,o)}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){T(e,t,r[t])}))}return e}function L(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var F=function(e){var t,r=e.onAddRecipient,a=e.onRemoveRecipient,i=e.recipients,l=L(e,["onAddRecipient","onRemoveRecipient","recipients"]),s=(0,o.useRef)(null),f=(0,o.useState)(""),p=f[0],h=f[1],m=(0,o.useState)(!0),x=m[0],b=m[1],y=(0,o.useState)([]),g=y[0],j=y[1],T=function(e,t){var r=t.reduce((function(e,t){return N(e).concat([t.id])}),[]);return e.filter((function(e){return!r.includes(e.id)}))}(g,i),F=p&&x,B=(t=v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.target.value,h(r),!r){e.next=10;break}return e.next=6,z.x.getContacts(r);case 6:n=e.sent,j(n),e.next=11;break;case 10:j([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){E(a,n,o,i,l,"next",e)}function l(e){E(a,n,o,i,l,"throw",e)}i(void 0)}))});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,D({sx:{borderBottomColor:"divider",borderBottomStyle:"solid",borderBottomWidth:1}},l,{children:(0,n.jsx)(M.L,{children:(0,n.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex",p:2},children:[(0,n.jsx)(c.Z,{ref:s,sx:{alignItems:"center",display:"flex",mr:1,"& .MuiInputBase-root":{backgroundColor:"background.paper",height:40,minWidth:260}},children:(0,n.jsx)(w.Z,{fullWidth:!0,onBlur:function(){F||b(!1)},onChange:B,onFocus:function(){b(!0)},placeholder:"Search contacts",InputProps:{startAdornment:(0,n.jsx)(Z.Z,{position:"start",children:(0,n.jsx)(A.o,{fontSize:"small"})})},value:p})}),(0,n.jsx)(d.Z,{color:"textSecondary",sx:{mr:2},variant:"body2",children:"To:"}),i.reverse().map((function(e){return(0,n.jsx)(O.Z,{avatar:(0,n.jsx)(u.Z,{src:e.avatar}),label:e.name,onDelete:function(){return t=e.id,void(a&&a(t));var t},sx:{mr:2}},e.id)}))]})})})),F&&(0,n.jsx)(S.Z,{onClickAway:function(){b(!1)},children:(0,n.jsx)(k.Z,{anchorEl:null===s||void 0===s?void 0:s.current,open:x,placement:"bottom-start",children:(0,n.jsx)(C.Z,{elevation:16,sx:{borderColor:"divider",borderStyle:"solid",borderWidth:1,maxWidth:"100%",mt:1,width:320},children:0===T.length?(0,n.jsxs)(c.Z,{sx:{p:2,textAlign:"center"},children:[(0,n.jsx)(d.Z,{gutterBottom:!0,variant:"h6",children:"Nothing Found"}),(0,n.jsxs)(d.Z,{color:"textSecondary",variant:"body2",children:["We couldn't find any matches for \"",p,'". Try checking for typos or using complete words.']})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{sx:{px:2,pt:2},children:(0,n.jsx)(d.Z,{color:"textSecondary",variant:"subtitle2",children:"Contacts"})}),(0,n.jsx)(P.Z,{children:T.map((function(e){return(0,n.jsxs)(R.ZP,{button:!0,onClick:function(){return t=e,h(""),void(r&&r(t));var t},children:[(0,n.jsx)(I.Z,{children:(0,n.jsx)(u.Z,{src:e.avatar})}),(0,n.jsx)($.Z,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))})]})})})})]})};F.propTypes={onAddRecipient:j().func,onRemoveRecipient:j().func,recipients:j().array},F.defaultProps={recipients:[]};var B=r(42213),V=r(99335),H=r(73907),W=r(49436);function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var K=function(e){var t=e.disabled,r=e.onSend,a=G(e,["disabled","onSend"]),i=(0,o.useRef)(null),l=(0,o.useState)(""),d=l[0],f=l[1],p=function(){i.current.click()},h=function(){d&&(null===r||void 0===r||r(d),f(""))};return(0,n.jsxs)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){q(e,t,r[t])}))}return e}({sx:{alignItems:"center",backgroundColor:"background.paper",display:"flex",flexShrink:0,p:3}},a,{children:[(0,n.jsx)(u.Z,{sx:{display:{xs:"none",sm:"inline"},mr:2},src:"/static/mock-images/avatars/avatar-anika_visser.png"}),(0,n.jsx)(w.Z,{disabled:t,fullWidth:!0,onChange:function(e){f(e.target.value)},onKeyUp:function(e){"Enter"===e.code&&h()},placeholder:"Leave a message",value:d,size:"small"}),(0,n.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex",m:-2,ml:2},children:[(0,n.jsx)(B.Z,{title:"Send",children:(0,n.jsx)(c.Z,{sx:{m:1},children:(0,n.jsx)(s.Z,{color:"primary",disabled:!d||t,sx:{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"}},onClick:h,children:(0,n.jsx)(V.$,{fontSize:"small"})})})}),(0,n.jsx)(B.Z,{title:"Attach photo",children:(0,n.jsx)(c.Z,{sx:{display:{xs:"none",sm:"inline-flex"},m:1},children:(0,n.jsx)(s.Z,{disabled:t,edge:"end",onClick:p,children:(0,n.jsx)(H.D,{fontSize:"small"})})})}),(0,n.jsx)(B.Z,{title:"Attach file",children:(0,n.jsx)(c.Z,{sx:{display:{xs:"none",sm:"inline-flex"},m:1},children:(0,n.jsx)(s.Z,{disabled:t,edge:"end",onClick:p,children:(0,n.jsx)(W.F,{fontSize:"small"})})})})]}),(0,n.jsx)("input",{hidden:!0,ref:i,type:"file"})]}))};function X(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,o)}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}K.propTypes={disabled:j().bool,onSend:j().func},K.defaultProps={disabled:!1};var Y=function(e){var t,r=(0,y.I0)(),a=(0,i.useRouter)(),l=(0,o.useState)([]),s=l[0],u=l[1],d=(t=v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r((0,b.Hz)({recipientIds:s.map((function(e){return e.id})),body:t}));case 3:n=e.sent,a.push("/dashboard/chat?threadKey=".concat(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){X(a,n,o,i,l,"next",e)}function l(e){X(a,n,o,i,l,"throw",e)}i(void 0)}))});return(0,n.jsxs)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_(e,t,r[t])}))}return e}({sx:{display:"flex",flexDirection:"column",flexGrow:1}},e,{children:[(0,n.jsx)(F,{onAddRecipient:function(e){u((function(t){return t.find((function(t){return t.id===e.id}))?s:U(s).concat([e])}))},onRemoveRecipient:function(e){u((function(t){return t.filter((function(t){return t.id!==e}))}))},recipients:s}),(0,n.jsx)(c.Z,{sx:{backgroundColor:"background.default",flexGrow:1}}),(0,n.jsx)(x.Z,{}),(0,n.jsx)(K,{disabled:0===s.length,onSend:d})]}))},J=r(41664),Q=r(77533),ee=r(11057),te=r(21392),re=r(21016),ne=r(37250);function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){oe(e,t,r[t])}))}return e}function ie(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var le=(0,o.forwardRef)((function(e,t){var r=e.isFocused,o=e.onChange,a=e.onClickAway,i=e.onFocus,l=e.onSelect,s=e.query,f=e.results,p=ie(e,["isFocused","onChange","onClickAway","onFocus","onSelect","query","results"]),h=s&&r;return(0,n.jsx)(S.Z,{onClickAway:a,children:(0,n.jsxs)(c.Z,ae({ref:t,sx:{p:2}},p,{children:[(0,n.jsx)(w.Z,{fullWidth:!0,onChange:o,onFocus:i,placeholder:"Search contacts",InputProps:{startAdornment:(0,n.jsx)(Z.Z,{position:"start",children:(0,n.jsx)(A.o,{fontSize:"small"})})},value:s}),r&&!s&&(0,n.jsx)(c.Z,{sx:{py:2},children:(0,n.jsx)(ne.C,{message:"Enter a contact name"})}),h&&0===f.length&&(0,n.jsx)(c.Z,{sx:{py:2},children:(0,n.jsxs)(d.Z,{color:"textSecondary",variant:"body2",children:["We couldn't find any matches for \"",s,'". Try checking for typos or using complete words.']})}),h&&f.length>0&&(0,n.jsxs)(c.Z,{sx:{py:2},children:[(0,n.jsx)(d.Z,{color:"textSecondary",variant:"subtitle2",children:"Contacts"}),(0,n.jsx)(P.Z,{children:f.map((function(e){return(0,n.jsxs)(R.ZP,{button:!0,onClick:function(){return function(e){l&&l(e)}(e)},children:[(0,n.jsx)(I.Z,{children:(0,n.jsx)(u.Z,{src:e.avatar,sx:{height:32,width:32}})}),(0,n.jsx)($.Z,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))})]})]}))})}));le.propTypes={isFocused:j().bool,onChange:j().func,onClickAway:j().func,onFocus:j().func,onSelect:j().func,query:j().string,results:j().array},le.defaultProps={isFocused:!1,query:"",results:[]};var ce=r(12195),se=r(35077),ue=r(51107);function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){de(e,t,r[t])}))}return e}function pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function he(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var me={lessThanXSeconds:"{{count}}s",xSeconds:"{{count}}s",halfAMinute:"30s",lessThanXMinutes:"{{count}}m",xMinutes:"{{count}}m",aboutXHours:"{{count}}h",xHours:"{{count}}h",xDays:"{{count}}d",aboutXWeeks:"{{count}}w",xWeeks:"{{count}}w",aboutXMonths:"{{count}}m",xMonths:"{{count}}m",aboutXYears:"{{count}}y",xYears:"{{count}}y",overXYears:"{{count}}y",almostXYears:"{{count}}y"},ve=function(e,t,r){r=r||{};var n=me[e].replace("{{count}}",t);return r.addSuffix?r.comparison>0?"in "+n:n+" ago":n},xe=function(e){var t=e.active,r=e.thread,o=e.onSelect,a=pe(e,["active","thread","onSelect"]),i="5e86809283e28b96d2d38537",l=r.participants.filter((function(e){return e.id!==i})),s=r.messages[r.messages.length-1],f=l.reduce((function(e,t){return he(e).concat([t.name])}),[]).join(", "),p="";if(s){var h=s.authorId===i?"Me: ":"",m="image"===s.contentType?"Sent a photo":s.body;p="".concat(h).concat(m)}return(0,n.jsxs)(R.ZP,fe({disableGutters:!0,disablePadding:!0,divider:!0,onClick:o,sx:{backgroundColor:t&&"action.selected",cursor:"pointer",overflow:"hidden",px:2,py:3}},a,{children:[(0,n.jsx)(I.Z,{sx:{display:"flex",justifyContent:{sm:"flex-start",xs:"center"}},children:(0,n.jsx)(ue.Z,{max:2,sx:{"& .MuiAvatar-root":l.length>1?{height:26,width:26,"&:nth-of-type(2)":{mt:"10px"}}:{height:36,width:36}},children:l.map((function(e){return(0,n.jsx)(u.Z,{src:e.avatar},e.id)}))})}),(0,n.jsxs)(c.Z,{sx:{flexGrow:1,mr:2,overflow:"hidden"},children:[(0,n.jsx)(d.Z,{noWrap:!0,variant:"subtitle2",children:f}),(0,n.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex"},children:[r.unreadCount>0&&(0,n.jsx)(c.Z,{sx:{backgroundColor:"primary.main",borderRadius:"50%",height:8,mr:1,width:8}}),(0,n.jsx)(d.Z,{color:"textSecondary",noWrap:!0,sx:{flexGrow:1},variant:"subtitle2",children:p})]})]}),(0,n.jsx)(d.Z,{color:"textSecondary",sx:{whiteSpace:"nowrap"},variant:"caption",children:(0,ce.Z)(s.createdAt,new Date,{addSuffix:!1,locale:fe({},se.Z,{formatDistance:ve})})})]}))};function be(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,o)}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ye(e,t,r[t])}))}return e}function je(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}xe.propTypes={active:j().bool,onSelect:j().func,thread:j().object.isRequired},xe.defaultProps={active:!1};var we=(0,f.ZP)(Q.ZP)({flexShrink:0,width:380,"& .MuiDrawer-paper":{position:"relative",width:380}}),Ze=(0,f.ZP)(Q.ZP)({maxWidth:"100%",width:380,"& .MuiDrawer-paper":{height:"calc(100% - 64px)",maxWidth:"100%",top:64,width:380}}),Oe=function(e){var t,r=e.containerRef,a=e.onClose,u=e.open,f=je(e,["containerRef","onClose","open"]),p=(0,i.useRouter)(),h=(0,y.v9)((function(e){return e.chat})),m=h.threads,x=h.activeThreadId,b=(0,o.useState)(!1),g=b[0],j=b[1],w=(0,o.useState)(""),Z=w[0],O=w[1],S=(0,o.useState)([]),k=S[0],C=S[1],R=(0,l.Z)((function(e){return e.breakpoints.up("md")})),I=(t=v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.target.value,O(r),!r){e.next=10;break}return e.next=6,z.x.getContacts(r);case 6:n=e.sent,C(n),e.next=11;break;case 10:C([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){be(a,n,o,i,l,"next",e)}function l(e){be(a,n,o,i,l,"throw",e)}i(void 0)}))}),$=(0,n.jsxs)("div",{children:[(0,n.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex",p:2},children:[(0,n.jsx)(d.Z,{variant:"h5",children:"Chats"}),(0,n.jsx)(c.Z,{sx:{flexGrow:1}}),(0,n.jsx)(J.default,{href:"/dashboard/chat?compose=true",passHref:!0,children:(0,n.jsx)(ee.Z,{component:"a",onClick:function(){R||null===a||void 0===a||a()},startIcon:(0,n.jsx)(te.v,{}),variant:"contained",children:"Group"})}),(0,n.jsx)(s.Z,{onClick:a,sx:{display:{sm:"none"},ml:2},children:(0,n.jsx)(re.X,{fontSize:"small"})})]}),(0,n.jsx)(le,{isFocused:g,onChange:I,onClickAway:function(){j(!1),O("")},onFocus:function(){j(!0)},onSelect:function(e){j(!1),O(""),R||null===a||void 0===a||a(),p.push("/dashboard/chat?threadKey=".concat(e.id))},query:Z,results:k}),(0,n.jsx)(c.Z,{sx:{borderTopColor:"divider",borderTopStyle:"solid",borderTopWidth:1,display:g?"none":"block"},children:(0,n.jsx)(M.L,{children:(0,n.jsx)(P.Z,{disablePadding:!0,children:m.allIds.map((function(e){return(0,n.jsx)(xe,{active:x===e,onSelect:function(){return function(e){var t,r=m.byId[e];t="GROUP"===r.type?r.id:r.participantIds.find((function(e){return"5e86809283e28b96d2d38537"!==e})),R||null===a||void 0===a||a(),p.push("/dashboard/chat?threadKey=".concat(t))}(e)},thread:m.byId[e]},e)}))})})})]});return R?(0,n.jsx)(we,ge({anchor:"left",open:u,SlideProps:{container:null===r||void 0===r?void 0:r.current},variant:"persistent"},f,{children:$})):(0,n.jsx)(Ze,ge({anchor:"left",ModalProps:{container:null===r||void 0===r?void 0:r.current},onClose:a,open:u,SlideProps:{container:null===r||void 0===r?void 0:r.current},variant:"temporary"},f,{children:$}))};Oe.propTypes={containerRef:j().any,onClose:j().func,open:j().bool};var Se=r(44086),ke=r(66242),Ce=r(50122),Pe=r(83965);function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var $e=function(e){var t=e.body,r=e.contentType,a=e.createdAt,i=e.authorAvatar,l=e.authorName,s=e.authorType,f=Ie(e,["body","contentType","createdAt","authorAvatar","authorName","authorType"]),p=(0,o.useState)(!1),h=(p[0],p[1]);return(0,n.jsxs)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Re(e,t,r[t])}))}return e}({sx:{display:"flex",flexDirection:"user"===s?"row-reverse":"row",maxWidth:500,ml:"user"===s?"auto":0,mb:2}},f,{children:[(0,n.jsx)(u.Z,{src:i,sx:{height:32,ml:"user"===s?2:0,mr:"user"===s?0:2,width:32}}),(0,n.jsxs)(c.Z,{sx:{flexGrow:1},children:[(0,n.jsxs)(ke.Z,{sx:{backgroundColor:"user"===s?"primary.main":"background.paper",color:"user"===s?"primary.contrastText":"text.primary",px:2,py:1},children:[(0,n.jsx)(c.Z,{sx:{mb:1},children:(0,n.jsx)(Ce.Z,{color:"inherit",sx:{cursor:"pointer"},variant:"subtitle2",children:l})}),"image"===r?(0,n.jsx)(Pe.Z,{onClick:function(){return h(!0)},image:t,sx:{height:200}}):(0,n.jsx)(d.Z,{color:"inherit",variant:"body1",children:t})]}),(0,n.jsx)(c.Z,{sx:{display:"flex",justifyContent:"user"===s?"flex-end":"flex-start",mt:1,px:2},children:(0,n.jsxs)(d.Z,{color:"textSecondary",noWrap:!0,variant:"caption",children:[(0,Se.Z)(a)," ","ago"]})})]})]}))};function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}$e.propTypes={authorAvatar:j().string.isRequired,authorName:j().string.isRequired,authorType:j().oneOf(["contact","user"]),body:j().string.isRequired,contentType:j().string.isRequired,createdAt:j().number.isRequired};var Me=function(e){var t=e.messages,r=e.participants,o=Ae(e,["messages","participants"]),a="/static/mock-images/avatars/avatar-anika_visser.png";return(0,n.jsx)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ze(e,t,r[t])}))}return e}({sx:{p:2}},o,{children:t.map((function(e){var t,o,i,l=r.find((function(t){return t.id===e.authorId}));return"5e86809283e28b96d2d38537"===e.authorId?(t=a,o="Me",i="user"):(t=l.avatar,o=l.name,i="contact"),(0,n.jsx)($e,{authorAvatar:t,authorName:o,authorType:i,body:e.body,contentType:e.contentType,createdAt:e.createdAt},e.id)}))}))};Me.propTypes={messages:j().array,participants:j().array};var Ee=r(25464),Te=r(18972),De=r(48885),Le=r(13988),Ne=r(56395),Fe=r(82066),Be=(0,Fe.Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})}),"Ban"),Ve=(0,Fe.Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Camera"),He=(0,Fe.Z)((0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),"Phone"),We=r(88608),qe=r(13127);function Ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ge(e,t,r[t])}))}return e}function Xe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _e(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ue=function(e){var t=e.participants,r=Xe(e,["participants"]),a=(0,o.useRef)(null),i=(0,o.useState)(!1),l=i[0],f=i[1],p="5e86809283e28b96d2d38537",h=t.filter((function(e){return e.id!==p})),m=h.reduce((function(e,t){return _e(e).concat([t.name])}),[]).join(", ");return(0,n.jsxs)(c.Z,Ke({sx:{alignItems:"center",backgroundColor:"background.paper",borderBottomColor:"divider",borderBottomStyle:"solid",borderBottomWidth:1,display:"flex",flexShrink:0,minHeight:64,px:2,py:1}},r,{children:[(0,n.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,n.jsx)(ue.Z,{max:2,sx:Ke({},h.length>1&&{"& .MuiAvatar-root":{height:30,width:30,"&:nth-of-type(2)":{mt:"10px"}}}),children:h.map((function(e){return(0,n.jsx)(u.Z,{src:e.avatar},e.id)}))}),(0,n.jsxs)(c.Z,{sx:{ml:2},children:[(0,n.jsx)(d.Z,{variant:"subtitle2",children:m}),1===h.length&&(0,n.jsxs)(d.Z,{color:"textSecondary",variant:"caption",children:["Last active"," ",(0,Se.Z)(h[0].lastActivity,{addSuffix:!0})]})]})]}),(0,n.jsx)(c.Z,{sx:{flexGrow:1}}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(He,{fontSize:"small"})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(Ve,{fontSize:"small"})}),(0,n.jsx)(B.Z,{title:"More options",children:(0,n.jsx)(s.Z,{onClick:function(){f(!0)},ref:a,children:(0,n.jsx)(We.B,{fontSize:"small"})})}),(0,n.jsxs)(Ee.Z,{anchorEl:a.current,keepMounted:!0,onClose:function(){f(!1)},open:l,children:[(0,n.jsxs)(Te.Z,{children:[(0,n.jsx)(De.Z,{children:(0,n.jsx)(Be,{fontSize:"small"})}),(0,n.jsx)($.Z,{primary:"Block contact"})]}),(0,n.jsxs)(Te.Z,{children:[(0,n.jsx)(De.Z,{children:(0,n.jsx)(qe.r,{fontSize:"small"})}),(0,n.jsx)($.Z,{primary:"Delete thread"})]}),(0,n.jsxs)(Te.Z,{children:[(0,n.jsx)(De.Z,{children:(0,n.jsx)(Le.X,{fontSize:"small"})}),(0,n.jsx)($.Z,{primary:"Archive thread"})]}),(0,n.jsxs)(Te.Z,{children:[(0,n.jsx)(De.Z,{children:(0,n.jsx)(Ne.U,{fontSize:"small"})}),(0,n.jsx)($.Z,{primary:"Mute notifications"})]})]})]}))};function Ye(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(s){return void r(s)}l.done?t(c):Promise.resolve(c).then(n,o)}function Je(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ye(a,n,o,i,l,"next",e)}function l(e){Ye(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ue.propTypes={participants:j().array},Ue.defaultProps={participants:[]};var et=function(e){var t=e.threadKey,r=(0,y.I0)(),a=(0,i.useRouter)(),l=(0,y.v9)((function(e){return function(e){var t=e.chat,r=t.threads,n=t.activeThreadId;return r.byId[n]}(e)})),s=(0,o.useRef)(null),u=(0,o.useState)([]),d=u[0],f=u[1],p="5e86809283e28b96d2d38537",h=Je(v().mark((function e(){var n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.x.getParticipants(t);case 3:return n=e.sent,f(n),e.next=7,r((0,b.bJ)(t));case 7:o=e.sent,r((0,b.gG)(o)),r((0,b.RZ)(o)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),a.push("/dashboard/chat");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));(0,o.useEffect)((function(){h()}),[t]),(0,o.useEffect)((function(){(null===l||void 0===l?void 0:l.messages)&&(null===s||void 0===s?void 0:s.current)&&(s.current.getScrollElement().scrollTop=s.current.el.scrollHeight)}),[l]);var m=Je(v().mark((function e(t){var n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!l){e.next=6;break}return e.next=4,r((0,b.Hz)({threadId:l.id,body:t}));case 4:e.next=13;break;case 6:return n=d.filter((function(e){return e.id!==p})).map((function(e){return e.id})),e.next=9,r((0,b.Hz)({recipientIds:n,body:t}));case 9:return o=e.sent,e.next=12,r((0,b.bJ)(o));case 12:r((0,b.gG)(o));case 13:(null===s||void 0===s?void 0:s.current)&&s.current.getScrollElement().scrollTo({top:s.current.el.scrollHeight,behavior:"smooth"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return(0,n.jsxs)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Qe(e,t,r[t])}))}return e}({sx:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"}},e,{children:[(0,n.jsx)(Ue,{participants:d}),(0,n.jsx)(c.Z,{sx:{backgroundColor:"background.default",flexGrow:1,overflow:"hidden"},children:(0,n.jsx)(M.L,{ref:s,sx:{maxHeight:"100%"},children:(0,n.jsx)(Me,{messages:(null===l||void 0===l?void 0:l.messages)||[],participants:(null===l||void 0===l?void 0:l.participants)||[]})})}),(0,n.jsx)(x.Z,{}),(0,n.jsx)(K,{disabled:!1,onSend:m})]}))};et.propTypes={threadKey:j().string.isRequired};var tt,rt,nt=r(34641),ot=r(61030),at=r(38682);function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lt=(0,f.ZP)("div",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,r=e.open;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){it(e,t,r[t])}))}return e}((it(tt={display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"},t.breakpoints.up("md"),{marginLeft:-380}),it(tt,"transition",t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})),tt),r&&(it(rt={},t.breakpoints.up("md"),{marginLeft:0}),it(rt,"transition",t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})),rt))})),ct=function(){var e=(0,i.useRouter)(),t=(0,y.I0)(),r=(0,o.useRef)(null),f=(0,o.useState)(!0),p=f[0],h=f[1],m="true"===e.query.compose,v=e.query.threadKey,x=(0,l.Z)((function(e){return e.breakpoints.up("md")}),{noSsr:!0});(0,o.useEffect)((function(){at.w.push({event:"page_view"})}),[]),(0,o.useEffect)((function(){t((0,b.hr)())}),[]),(0,o.useEffect)((function(){h(!!x)}),[x]);if(!e.isReady)return null;var g=v?"thread":m?"compose":"blank";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.default,{children:(0,n.jsx)("title",{children:"Dashboard: Chat | Material Kit Pro"})}),(0,n.jsx)(c.Z,{component:"main",sx:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},children:(0,n.jsxs)(c.Z,{ref:r,sx:{display:"flex",position:"absolute",top:0,right:0,bottom:0,left:0},children:[(0,n.jsx)(Oe,{containerRef:r,onClose:function(){h(!1)},open:p}),(0,n.jsxs)(lt,{open:p,children:[(0,n.jsx)(c.Z,{sx:{alignItems:"center",backgroundColor:"background.paper",borderBottomColor:"divider",borderBottomStyle:"solid",borderBottomWidth:1,display:"flex",p:2},children:(0,n.jsx)(s.Z,{onClick:function(){h((function(e){return!e}))},children:(0,n.jsx)(ot.j,{fontSize:"small"})})}),"thread"===g&&(0,n.jsx)(et,{threadKey:v}),"compose"===g&&(0,n.jsx)(Y,{}),"blank"===g&&(0,n.jsxs)(c.Z,{sx:{alignItems:"center",display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},children:[(0,n.jsx)(u.Z,{sx:{backgroundColor:"primary.main",color:"primary.contrastText",height:56,width:56},children:(0,n.jsx)(nt.d,{fontSize:"small"})}),(0,n.jsx)(d.Z,{color:"textSecondary",sx:{mt:2},variant:"subtitle1",children:"Start meaningful conversations!"})]})]})]})})]})};ct.getLayout=function(e){return(0,n.jsx)(p.a,{children:(0,n.jsx)(h.c,{children:e})})};var st=ct}},function(e){e.O(0,[2180,5464,9519,135,7637,8005,8619,8055,8848,9774,2888,179],(function(){return t=34473,e(e.s=t);var t}));var t=e.O();_N_E=t}]);